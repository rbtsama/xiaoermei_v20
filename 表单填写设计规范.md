# 表单填写设计规范

**小而美 Home Stay 民宿管理系统 - 表单UI标准规范**

**基于基本信息Tab（Tab1AccountStoreInfo）的完整标准**

---

## 1. 卡片结构规范

### **卡片基础样式**
```less
.form-section-card {
  border-radius: 8px;              // 卡片圆角
  border: 1px solid #e2e8f0;       // 边框颜色 @border-primary
  box-shadow: 0 1px 2px rgba(0,0,0,0.03); // 阴影 @shadow-sm
}
```

### **卡片头部（标题区域）**
```less
:deep(.ant-card-head) {
  border-bottom: 1px solid #e2e8f0;  // 底部分割线
  padding: 16px 24px;                 // 上下16px，左右24px
}

.section-title {
  font-size: 16px;                    // @font-size-lg
  font-weight: 600;                   // @font-weight-semibold
  color: rgba(0,0,0,0.9);            // @text-primary
}
```

- **标题字号**：16px
- **标题字重**：600（加粗）
- **标题颜色**：rgba(0,0,0,0.9)
- **头部padding**：上下16px，左右24px
- **底部分割线**：1px solid #e2e8f0

### **卡片内容区域**
```less
:deep(.ant-card-body) {
  padding: 32px 24px;                 // 上下32px，左右24px
}
```

- **内容padding**：上下32px，左右24px

### **卡片间距**
```less
.container {
  display: flex;
  flex-direction: column;
  gap: 24px;                          // 卡片之间间距24px
}
```

- **卡片与卡片之间**：24px

---

## 2. 表单布局（左右布局）

### **布局比例**
```vue
<a-form-model
  :model="formData"
  :label-col="{ span: 6 }"           // 标签区域占25%
  :wrapper-col="{ span: 14 }"        // 输入区域占58%
>
  <!-- 剩余17%为右侧留白 -->
</a-form-model>
```

- **标签区域**：25% (span: 6)
- **输入区域**：58% (span: 14)
- **右侧留白**：17%
- **布局方式**：标签在左，输入框在右

### **字段间距**
```less
:deep(.ant-form-item) {
  margin-bottom: 24px;                // 字段之间间距24px
}
```

- **字段与字段之间**：24px

---

## 3. 字段标签规范

### **标签位置和对齐**
- **位置**：输入框**左侧**
- **对齐方式**：**左对齐**
- **占比**：25%（span: 6）

### **标签文字样式**
```less
:deep(.ant-form-item-label) {
  font-weight: 400;                   // 正常字重，不加粗
  color: rgba(0,0,0,0.9);            // 黑色
  text-align: left;                   // 左对齐

  label::after {
    content: '';                      // 去除默认冒号
  }
}
```

- **字号**：14px（继承基础字号 @font-size-base）
- **字重**：400（正常，不加粗，避免与标题冲突）
- **颜色**：rgba(0,0,0,0.9)（黑色，简洁统一）
- **对齐**：左对齐

**设计理念**：
- 通过位置（左侧）、字号差异、间距节奏建立层次
- 不通过加粗或颜色，保持视觉简洁
- 避免与标题产生冲突

---

## 4. 必填标记（红色星号）

### **位置**：字段标签的**左侧**（在字段名称前面）

### **实现方式**：使用`required`属性（唯一标准方式）
```vue
<a-form-model-item label="门店名称" required>
  <!-- Ant Design自动在label左侧显示红色星号 -->
</a-form-model-item>
```

### **特殊情况**：非form-model-item（如卡片标题、分类标题）
```vue
<!-- 仅用于非表单字段的标题 -->
<span class="category-title">交通服务 <span class="required">*</span></span>
```

**⚠️ 注意**：表单字段必须使用`required`属性，不得使用自定义星号

### **样式定义**
```less
.required {
  color: #ef4444;                     // @error-color 红色
  margin-left: 2px;                   // 与文字间距2px
}
```

- **颜色**：#ef4444（错误色/红色）
- **位置**：紧跟在字段名称之后
- **间距**：左间距2px

### **注意**
- ✅ 必填用红色星号 `*`
- ❌ 选填不显示任何标记
- ❌ 不使用`<a-tag>必填</a-tag>`或`<a-tag>选填</a-tag>`

---

## 5. 输入框规范

### **位置**：字段标签的**右侧**
### **占比**：58%（span: 14）

### **输入框样式**
```less
:deep(.ant-input),
:deep(.ant-input-number),
:deep(.ant-select-selector),
:deep(.ant-picker) {
  border-radius: 6px;                 // @border-radius-base
  border-color: #e2e8f0;             // @border-primary

  &:hover {
    border-color: #2563eb;            // @brand-primary-hover
  }

  &:focus,
  &-focused {
    border-color: #3b82f6;            // @brand-primary
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
  }
}

:deep(.ant-input-number) {
  width: 100%;                        // 数字输入框宽度100%
}
```

- **圆角**：6px
- **边框颜色**：
  - 默认：#e2e8f0
  - Hover：#2563eb（深蓝）
  - Focus：#3b82f6（品牌蓝）+ 蓝色阴影
- **字号**：14px
- **字重**：400（正常）
- **颜色**：rgba(0,0,0,0.9)

---

## 6. Placeholder（暗提示）

### **样式定义**
```less
:deep(input::placeholder),
:deep(textarea::placeholder) {
  color: #b1b1b1;                     // @text-tertiary
  opacity: 1;
}
```

- **字号**：14px（继承输入框字号）
- **颜色**：#b1b1b1（暗提示文字色）
- **字重**：400（正常）
- **示例**：`placeholder="原乡芦茨"`

---

## 7. 字段说明（field-hint）

### **位置**：输入框**下方**
### **距离**：margin-top **4px**

```vue
<a-form-model-item label="主账号" required>
  <a-input v-model="formData.mainAccount" placeholder="13575481983" />
  <div class="field-hint">系统最高权限者，用于登录</div>
</a-form-model-item>
```

### **样式定义**
```less
.field-hint {
  font-size: 12px;                    // @font-size-xs
  color: #666666;                     // @text-secondary
  margin-top: 4px;                    // 与输入框距离4px
  line-height: 1.4;                   // 行高1.4
}
```

- **字号**：12px（小字）
- **颜色**：#666666（辅助文字色）
- **上边距**：4px
- **行高**：1.4
- **作用**：解释字段用途、填写规则

---

## 8. 错误提示（error-hint）

### **位置**：输入框**下方**（替代field-hint显示）
### **距离**：margin-top **4px**

```vue
<a-form-model-item label="预订电话" required>
  <a-input v-model="formData.bookingPhone" @blur="validatePhone" />
  <div v-if="phoneError" class="error-hint">{{ phoneError }}</div>
  <div v-else class="field-hint">客人预订时的联系电话</div>
</a-form-model-item>
```

### **样式定义**
```less
.error-hint {
  font-size: 12px;                    // @font-size-xs
  color: #ef4444;                     // @error-color 红色
  margin-top: 4px;                    // 与输入框距离4px
  line-height: 1.4;                   // 行高1.4
}
```

- **字号**：12px（与field-hint相同）
- **颜色**：#ef4444（红色，醒目）
- **上边距**：4px
- **行高**：1.4
- **作用**：显示验证错误信息

---

## 9. 间距规范总览

### **垂直间距**
```
卡片之间        24px    (.container gap)
卡片标题下方    0px     (由卡片头部padding控制)
字段之间        24px    (:deep(.ant-form-item) margin-bottom)
输入框到说明    4px     (.field-hint margin-top)
分类标题上方    32px    (.section-title.section-spacing margin-top)
分类标题下方    20px    (.section-title margin-bottom)
```

### **水平间距**
```
标签与输入框    自动    (由label-col和wrapper-col的gap控制)
输入框组合间距  16px    (a-row gutter="16")
多选框列间距    16px    (checkbox-grid gap: 12px 16px)
多选框行间距    12px    (checkbox-grid gap: 12px 16px)
```

### **内边距（Padding）**
```
卡片头部        16px 24px    (上下16px，左右24px)
卡片内容        32px 24px    (上下32px，左右24px)
输入框内部      4px 11px     (Ant Design默认)
多选框卡片      10px 12px    (checkbox-wrapper padding)
```

---

## 10. 文本域字符计数

### **位置**：文本域下方右对齐
### **距离**：margin-top **8px**

```vue
<div class="textarea-container">
  <a-textarea
    v-model="formData.description"
    :rows="12"
    :maxLength="1000"
    class="description-textarea"
  />
  <div class="char-count" :class="{ warning: description.length > 1000 }">
    {{ description.length }}/1000 字
    <span v-if="description.length < 200" class="hint-text">（至少200字）</span>
  </div>
</div>
```

### **样式定义**
```less
.char-count {
  text-align: right;                  // 右对齐
  font-size: 12px;                    // @font-size-xs
  color: #666666;                     // @text-secondary
  margin-top: 8px;                    // 与文本域距离8px

  &.warning {
    color: #ef4444;                   // 超限时红色
  }

  .hint-text {
    color: #f97316;                   // @warning-color 橙色提示
    margin-left: 8px;
  }
}
```

- **字号**：12px
- **颜色**：#666666（正常）、#ef4444（超限）
- **上边距**：8px
- **对齐**：右对齐

---

## 11. 多选框布局（卡片样式）

### **列数规范**
- **一行5列**：门店亮点（checkbox-grid-5col）
- **一行4列**：房型设施（checkbox-grid）
- **一行2列**：房型特色（checkbox-grid-2col）

### **样式定义**（以5列为例）
```less
.checkbox-grid-5col {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 12px 16px;                     // 行间距12px，列间距16px
  align-items: stretch;

  :deep(.ant-checkbox-group) {
    display: contents;                // 让group不占据布局空间
  }

  :deep(.ant-checkbox-wrapper),
  :deep(.ant-checkbox-wrapper + .ant-checkbox-wrapper) {
    margin: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding: 10px 12px;
    border: 1px solid #e2e8f0;        // @border-primary
    border-radius: 6px;               // @border-radius-base
    background: #ffffff;              // @bg-primary
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    font-size: 13px;                  // @font-size-sm
    color: rgba(0,0,0,0.9);          // @text-primary

    &:hover {
      border-color: #3b82f6;          // @brand-primary
      background: rgba(59, 130, 246, 0.05);
    }

    &.ant-checkbox-wrapper-checked {
      border-color: #3b82f6;
      background: rgba(59, 130, 246, 0.08);
    }

    .ant-checkbox {
      top: 0;
    }
  }
}
```

### **关键技术点**
1. **display: contents**：让checkbox-group不占据布局空间，子元素直接参与grid布局
2. **强制覆盖margin**：同时覆盖`.ant-checkbox-wrapper`和`.ant-checkbox-wrapper + .ant-checkbox-wrapper`，去除Ant Design默认的8px左边距
3. **卡片样式**：边框+padding+背景色，呈现卡片式checkbox
4. **Hover效果**：蓝色边框+浅蓝背景
5. **选中效果**：蓝色边框+稍深蓝背景

- **行间距**：12px
- **列间距**：16px
- **内边距**：10px 12px
- **字号**：13px
- **边框**：1px solid #e2e8f0
- **圆角**：6px

---

## 12. 完整视觉规范总结

### **颜色规范**
```
卡片标题        rgba(0,0,0,0.9)     // 黑色，最高层级
分类标题        rgba(0,0,0,0.9)     // 黑色，次高层级
字段标签        rgba(0,0,0,0.9)     // 黑色，与输入内容同色
输入内容        rgba(0,0,0,0.9)     // 黑色，主文字色
字段说明        #666666              // 灰色，辅助文字
暗提示文字      #b1b1b1              // 浅灰色，placeholder
错误文字        #ef4444              // 红色，必填星号、错误提示
边框色          #e2e8f0              // 卡片边框、输入框边框
品牌蓝          #3b82f6              // Focus状态、主按钮
深蓝            #2563eb              // 字段标签、链接
背景色          #ffffff              // 卡片背景
次要背景色      #f8fafc              // 表头、禁用字段
警告色          #f97316              // 警告提示
```

### **字号规范**（清晰的层级体系）
```
卡片标题        16px    (@font-size-lg)      加粗600  黑色
分类标题        14px    (@font-size-base)    加粗600  黑色
字段标签        14px    (@font-size-base)    正常400  黑色
输入内容        14px    (@font-size-base)    正常400  黑色
字段说明        12px    (@font-size-xs)      正常400  灰色#666
错误提示        12px    (@font-size-xs)      正常400  红色#ef4444
Placeholder     14px    (继承输入框)         正常400  浅灰#b1b1b1
多选框文字      13px    (@font-size-sm)      正常400  黑色
```

### **分割线使用规范**
```
✅ 允许使用：
  - 卡片之间（通过gap: 24px自然分隔）
  - 卡片头部和内容之间（border-bottom: 1px）

❌ 禁止使用：
  - 卡片内部的分类之间（用32px上边距替代）
  - 字段之间（用24px间距）
  - 过度使用分割线

原则：用间距替代分割线，界面更简洁清爽
```

### **圆角规范**
```
卡片圆角        8px     (@border-radius-lg)
输入框圆角      6px     (@border-radius-base)
标签圆角        4px     (@border-radius-sm)
按钮圆角        6px     (@border-radius-base)
```

### **间距规范快速查询**
```
垂直间距：
  卡片之间        24px
  字段之间        24px
  输入框到说明    4px
  文本域到计数    8px
  分类标题上方    32px
  分类标题下方    20px

水平间距：
  输入框组合      16px (gutter)
  多选框列间距    16px
  多选框行间距    12px

内边距：
  卡片头部        16px 24px
  卡片内容        32px 24px
  多选框卡片      10px 12px
```

---

## 13. 完整代码示例

```vue
<template>
  <div class="page-container">
    <a-card :bordered="false" class="form-section-card">
      <template slot="title">
        <span class="section-title">基本信息</span>
      </template>

      <a-form-model
        :model="formData"
        :label-col="{ span: 6 }"
        :wrapper-col="{ span: 14 }"
      >
        <!-- 普通输入框 + 必填 + 说明 -->
        <a-form-model-item label="门店名称" required>
          <a-input
            v-model="formData.storeName"
            placeholder="原乡芦茨"
            :maxLength="50"
          />
          <div class="field-hint">门店对外展示的名称</div>
        </a-form-model-item>

        <!-- 数字输入框 -->
        <a-form-model-item label="房间数量" required>
          <a-input-number
            v-model="formData.roomCount"
            :min="1"
            :max="500"
            placeholder="21"
            style="width: 100%"
          />
          <div class="field-hint">门店客房总数</div>
        </a-form-model-item>

        <!-- 带图标的输入框 + 错误提示 -->
        <a-form-model-item label="联系电话" required>
          <a-input
            v-model="formData.phone"
            placeholder="13575481983"
            @blur="validatePhone"
          >
            <a-icon slot="prefix" type="phone" />
          </a-input>
          <div v-if="phoneError" class="error-hint">{{ phoneError }}</div>
          <div v-else class="field-hint">客人预订时的联系电话</div>
        </a-form-model-item>

        <!-- 多选框（5列） -->
        <a-form-model-item label="门店亮点" required>
          <a-checkbox-group v-model="formData.highlights" class="checkbox-grid-5col">
            <a-checkbox value="老建筑">老建筑</a-checkbox>
            <a-checkbox value="特色民居">特色民居</a-checkbox>
            <a-checkbox value="大师设计">大师设计</a-checkbox>
            <!-- ... -->
          </a-checkbox-group>
          <div class="field-hint">至少选择3项</div>
        </a-form-model-item>

        <!-- 文本域 + 字符计数 -->
        <a-form-model-item label="门店介绍" required>
          <div class="textarea-container">
            <a-textarea
              v-model="formData.description"
              :rows="12"
              :maxLength="1000"
              placeholder="详细介绍门店..."
              class="description-textarea"
            />
            <div class="char-count" :class="{ warning: descriptionLength > 1000 }">
              {{ descriptionLength }}/1000 字
              <span v-if="descriptionLength < 200" class="hint-text">（至少200字）</span>
            </div>
          </div>
        </a-form-model-item>
      </a-form-model>
    </a-card>
  </div>
</template>

<style scoped lang="less">
@import '@/styles/variables.less';

.page-container {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.form-section-card {
  border-radius: @border-radius-lg;
  border: 1px solid @border-primary;
  box-shadow: @shadow-sm;

  :deep(.ant-card-head) {
    border-bottom: 1px solid @border-primary;
    padding: 16px 24px;
  }

  :deep(.ant-card-body) {
    padding: 32px 24px;
  }
}

.section-title {
  font-size: @font-size-lg;
  font-weight: @font-weight-semibold;
  color: @text-primary;
}

:deep(.ant-form-item) {
  margin-bottom: 24px;
}

:deep(.ant-form-item-label) {
  font-weight: @font-weight-medium;
  color: @text-primary;
  text-align: left;

  label::after {
    content: '';
  }
}

.field-hint {
  font-size: @font-size-xs;
  color: @text-secondary;
  margin-top: 4px;
  line-height: 1.4;
}

.error-hint {
  font-size: @font-size-xs;
  color: @error-color;
  margin-top: 4px;
  line-height: 1.4;
}

.char-count {
  text-align: right;
  font-size: @font-size-xs;
  color: @text-secondary;
  margin-top: 8px;

  &.warning {
    color: @error-color;
  }

  .hint-text {
    color: @warning-color;
    margin-left: 8px;
  }
}

.checkbox-grid-5col {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 12px 16px;
  align-items: stretch;

  :deep(.ant-checkbox-group) {
    display: contents;
  }

  :deep(.ant-checkbox-wrapper),
  :deep(.ant-checkbox-wrapper + .ant-checkbox-wrapper) {
    margin: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding: 10px 12px;
    border: 1px solid @border-primary;
    border-radius: @border-radius-base;
    background: @bg-primary;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    font-size: @font-size-sm;
    color: @text-primary;

    &:hover {
      border-color: @brand-primary;
      background: rgba(59, 130, 246, 0.05);
    }

    &.ant-checkbox-wrapper-checked {
      border-color: @brand-primary;
      background: rgba(59, 130, 246, 0.08);
    }

    .ant-checkbox {
      top: 0;
    }
  }
}

:deep(.ant-input),
:deep(.ant-input-number),
:deep(.ant-select-selector),
:deep(.ant-picker) {
  border-radius: @border-radius-base;
  border-color: @border-primary;

  &:hover {
    border-color: @brand-primary-hover;
  }

  &:focus,
  &-focused {
    border-color: @brand-primary;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
  }
}

:deep(.ant-input-number) {
  width: 100%;
}

:deep(input::placeholder),
:deep(textarea::placeholder) {
  color: @text-tertiary;
  opacity: 1;
}

.required {
  color: @error-color;
  margin-left: 2px;
}
</style>
```

---

## 14. 开发检查清单

表单填写页面开发时，**必须检查**：

### **布局结构**
- [ ] 使用左右布局（label-col: 6, wrapper-col: 14）
- [ ] 卡片使用form-section-card类
- [ ] 卡片间距24px
- [ ] 字段间距24px

### **字段标签**
- [ ] 标签左对齐
- [ ] 字号14px，字重500
- [ ] 颜色rgba(0,0,0,0.9)
- [ ] 去除冒号（label::after设置为空）

### **必填标记**
- [ ] 使用required属性或红色星号
- [ ] 星号在字段名称左侧
- [ ] 颜色#ef4444
- [ ] 选填字段不显示任何标记

### **输入框**
- [ ] 圆角6px
- [ ] 边框颜色#e2e8f0
- [ ] Hover/Focus状态正确
- [ ] 数字输入框width: 100%

### **说明文字**
- [ ] 所有输入框下方添加field-hint
- [ ] 字号12px，颜色#666666
- [ ] margin-top: 4px
- [ ] 错误提示使用error-hint类（红色）

### **多选框**
- [ ] 使用卡片样式（边框+padding+hover）
- [ ] gap: 12px 16px（行间距 列间距）
- [ ] display: contents覆盖checkbox-group
- [ ] 强制去除所有margin（包括相邻选择器）

### **间距检查**
- [ ] 卡片头部padding: 16px 24px
- [ ] 卡片内容padding: 32px 24px
- [ ] 字段间距24px
- [ ] 输入框到说明4px

### **其他**
- [ ] 引入`@import '@/styles/variables.less'`
- [ ] Placeholder颜色#b1b1b1
- [ ] 文本域配置字符计数

---

## 15. 常见问题

### **Q1：多选框第一行和后续行对不齐？**
**A**：确保添加了以下两个关键样式：
```less
:deep(.ant-checkbox-group) {
  display: contents;  // 关键1
}

:deep(.ant-checkbox-wrapper),
:deep(.ant-checkbox-wrapper + .ant-checkbox-wrapper) {  // 关键2：覆盖相邻选择器
  margin: 0 !important;
  margin-left: 0 !important;
  // ...
}
```

### **Q2：必填星号颜色不对或位置不对？**
**A**：
- 使用`required`属性，让Ant Design自动显示（推荐）
- 或者添加`.required`样式定义，颜色#ef4444

### **Q3：字段说明文字不显示或样式不对？**
**A**：检查是否添加了`.field-hint`样式定义，margin-top必须是4px

---

**最后更新**：2025-12-17
**参考实现**：src/views/MerchantBackend/JoinApplication/components/Tab1AccountStoreInfo.vue

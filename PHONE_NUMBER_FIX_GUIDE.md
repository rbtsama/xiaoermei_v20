# 手机号修正指南

**生成时间**: 2025-12-10
**目的**: 将所有 mock 数据中的手机号统一为 138、188、181、166 开头的 11 位号码

---

## 🔧 快速批量替换表

使用编辑器的"查找和替换"功能，按照下表进行全局替换：

### 1. member.mock.ts ✅ 已完成
- ✅ `13923455678` → `18812345678`
- ✅ `13634569012` → `18134569012`
- ✅ `13745670123` → `18145670123`
- ✅ `13967892345` → `18867892345`
- ✅ `13978903456` → `18878903456`
- ✅ `13989014567` → `18889014567`
- ✅ `14200000001` → `18800000011`

### 2. order.mock.ts (平台后台)

**文件路径**: `src/views/PlatformAdmin/OrderManagement/services/mocks/order.mock.ts`

```
查找: 138000010001    替换为: 13800010001
查找: 139000020002    替换为: 18800020002
查找: 136000030003    替换为: 18100030003
查找: 135000040004    替换为: 16600040004
查找: 137000050005    替换为: 18100050005
查找: 134000060006    替换为: 16600060006
查找: 133000070007    替换为: 18100070007
查找: 132000080008    替换为: 18100080008
查找: 131000090009    替换为: 18100090009
```

### 3. orderList.mock.ts (商户端)

**文件路径**: `src/views/MerchantBackend/OrderManagement/services/mocks/orderList.mock.ts`

```
查找: 13636617155    替换为: 18136617155
查找: 15691857946    替换为: 18891857946
查找: 15715871766    替换为: 18815871766
查找: 13575481983    替换为: 18175481983
查找: 15921207822    替换为: 18821207822
查找: 13968000742    替换为: 18868000742
```

### 4. joinApplication.mock.ts

**文件路径**: `src/views/MerchantBackend/JoinApplication/services/mocks/joinApplication.mock.ts`

```
查找: 13900139000    替换为: 18800139000
```

### 5. points.mock.ts

**文件路径**: `src/views/PlatformAdmin/PointsManagement/services/mocks/points.mock.ts`

```
查找: 13900139000    替换为: 18800139000
查找: 13700137000    替换为: 18100137000
查找: 13600136000    替换为: 18100136000
查找: 13500135000    替换为: 18100135000
查找: 13400134000    替换为: 18100134000
```

### 6. coupon.mock.ts

**文件路径**: `src/views/PlatformAdmin/CouponManagement/services/mocks/coupon.mock.ts`

```
查找: 13987654321    替换为: 18887654321
查找: 15012345678    替换为: 18812345678
查找: 18612341234    替换为: 18112341234
查找: 13512345678    替换为: 18812345678
查找: 18712349999    替换为: 18812349999
查找: 13698745632    替换为: 18198745632
查找: 15923456789    替换为: 18823456789
查找: 13345678901    替换为: 18145678901
查找: 13723456789    替换为: 18123456789
查找: 15912345678    替换为: 18812345678
查找: 13566778899    替换为: 13866778899
查找: 18656789012    替换为: 18156789012
查找: 13398745632    替换为: 18198745632
查找: 15123456789    替换为: 18123456789
查找: 13645678901    替换为: 18145678901
查找: 15834567890    替换为: 18134567890
```

### 7. userReviews.mock.ts

**文件路径**: `src/views/MerchantBackend/OrderManagement/services/mocks/userReviews.mock.ts`

```
查找: 15715871766    替换为: 18815871766
查找: 13698765432    替换为: 18198765432
查找: 15987654321    替换为: 18887654321
查找: 13511112222    替换为: 18111112222
```

### 8. refundManagement.mock.ts

**文件路径**: `src/views/MerchantBackend/OrderManagement/services/mocks/refundManagement.mock.ts`

```
查找: 19157973208    替换为: 18857973208
查找: 18601273203    替换为: 18101273203
```

---

## 📝 使用 VSCode 批量替换步骤

1. 按 `Ctrl + H` 打开查找和替换
2. 点击左侧的 `.*` 图标启用正则表达式（可选）
3. 点击右侧的文件图标，选择"在文件中替换"
4. 在"要包含的文件"中输入文件路径
5. 逐个按照上表进行替换

### 示例：修正 order.mock.ts

1. 打开"在文件中替换"
2. "要包含的文件": `src/views/PlatformAdmin/OrderManagement/services/mocks/order.mock.ts`
3. 查找: `138000010001`
4. 替换为: `13800010001`
5. 点击"全部替换"
6. 重复步骤 3-5 for 所有其他号码

---

## ⚡ 使用正则表达式批量替换（高级）

如果你熟悉正则表达式，可以使用以下方式：

### 修正 12 位手机号（order.mock.ts）

**查找正则**:
```regex
(13[0-9]|15[0-9]|18[0-9])000(\d{6})
```

**替换为**:
根据具体情况手动调整前缀

---

## ✅ 修正完成检查清单

完成所有替换后，请执行以下检查：

### 1. 运行项目
```bash
npm run dev
```

### 2. 检查控制台
确保没有因手机号格式导致的错误

### 3. 测试关键页面
- [ ] 会员管理页面
- [ ] 订单列表页面
- [ ] 优惠券页面
- [ ] 积分管理页面

### 4. 搜索剩余不合格手机号
使用正则表达式搜索项目中所有 11 位以上的数字或不符合规范的手机号：

```regex
(phone|手机|mobile)[^\d]*['"]?(1[0-9]{10,}|1[^38][0-9]{9}|1[0-57-9][^1268][0-9]{8})['"]?
```

---

## 🎯 验证方法

### 在文件中搜索所有手机号

使用以下正则表达式查找所有可能的手机号：

```regex
\b1[0-9]{10}\b
```

然后逐个检查是否符合 138、188、181、166 开头的规范

---

## 📊 修正统计

- **总文件数**: 8 个
- **已完成**: 1 个 (member.mock.ts)
- **待修正**: 7 个
- **总手机号数量**: 约 60+ 个
- **需要修正的**: 约 50+ 个

---

## ⚠️ 注意事项

1. **备份**: 修改前请确保代码已提交到 Git
2. **测试**: 每完成一个文件的修正，建议运行一次测试
3. **一致性**: 确保同一个用户在不同文件中使用相同的手机号
4. **文档更新**: 修正完成后更新 `TEST_PHONE_NUMBERS.md`

---

**维护人员**: 开发团队
**最后更新**: 2025-12-10

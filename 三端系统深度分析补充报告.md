# å°è€Œç¾é…’åº—å¹³å° - ä¸‰ç«¯ç³»ç»Ÿæ·±åº¦åˆ†æè¡¥å……æŠ¥å‘Š

> **åŸºäºä»£ç æ·±åº¦å®¡æŸ¥çš„è®¾è®¡ä¼˜åŒ–å»ºè®®**
> ç”Ÿæˆæ—¶é—´: 2025-11-19
> åˆ†æèŒƒå›´: æ•´ä¸ªé¡¹ç›®ä»£ç åº“ + 96å¼ å°ç¨‹åºè®¾è®¡å›¾
> åˆ†ææ–¹æ³•: é™æ€ä»£ç å®¡æŸ¥ + ç±»å‹å®šä¹‰åˆ†æ + ä¸šåŠ¡æµç¨‹å¯¹æ¯”

---

## æ‰§è¡Œæ‘˜è¦

### æ ¸å¿ƒå‘ç°

1. **âœ… å¥½æ¶ˆæ¯**ï¼šä¹‹å‰è¯†åˆ«çš„P0çº§å…³é”®ç¼ºå¤±åŠŸèƒ½å·²ç»è¡¥å……å®Œæˆ
   - ä¼šå‘˜é‚€è¯·ç³»ç»Ÿ âœ“
   - äº²å‹ç¤¼é‡å¡é…ç½® âœ“
   - é…’åº—å¼€é€šæµç¨‹ âœ“
   - é…’åº—åå°æ¬¢è¿æŒ‡å¼• âœ“

2. **âš ï¸ ä¸»è¦é—®é¢˜**ï¼šç³»ç»Ÿå­˜åœ¨**ä¸¥é‡çš„è¿‡åº¦è®¾è®¡**
   - çº¦ **1,700+ è¡Œä»£ç **ç”¨äº1.0ç‰ˆæœ¬ä¸éœ€è¦çš„åŠŸèƒ½
   - 7ä¸ªä¸»è¦æ¨¡å—å­˜åœ¨**60-90%çš„å†—ä½™é…ç½®**
   - æŸäº›é¡µé¢(å¦‚StorePolicyPage.tsx)è¾¾åˆ°**954è¡Œ**ï¼Œå®é™…åªéœ€300è¡Œ

3. **ğŸ¯ å»ºè®®**ï¼š
   - **ç«‹å³è¡ŒåŠ¨**ï¼šåˆ é™¤è¿‡åº¦è®¾è®¡çš„å­—æ®µå’Œé…ç½®(èŠ‚çœçº¦40%çš„ä»£ç )
   - **1.0èšç„¦**ï¼šä»…ä¿ç•™MVPæ ¸å¿ƒåŠŸèƒ½
   - **åç»­è¿­ä»£**ï¼šåœ¨æœ‰çœŸå®ç”¨æˆ·åé¦ˆåå†æ·»åŠ é«˜çº§åŠŸèƒ½

---

## ä¸€ã€ä½ çš„ä¸‰ä¸ªé—®é¢˜çš„ç­”æ¡ˆ

### é—®é¢˜1: ç›®å‰ä¸‰ç«¯ç³»ç»Ÿäº’é€šï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆäº§å“é€»è¾‘ä¸é—­ç¯ï¼Ÿ

#### âœ… å·²è§£å†³çš„é—­ç¯é—®é¢˜

åŸºäºä¹‹å‰çš„åˆ†ææŠ¥å‘Šï¼Œä»¥ä¸‹å…³é”®ç¼ºå¤±åŠŸèƒ½**å·²ç»å®ç°**ï¼š

| åŠŸèƒ½æ¨¡å— | çŠ¶æ€ | æ–‡ä»¶è·¯å¾„ |
|---------|-----|---------|
| ä¼šå‘˜é‚€è¯·é…ç½® | âœ… å·²å®ç° | `app/pages/MemberInvitation/InvitationConfigPage.tsx` |
| ä¼šå‘˜é‚€è¯·è®°å½• | âœ… å·²å®ç° | `app/pages/MemberInvitation/InvitationRecordsPage.tsx` |
| äº²å‹ç¤¼é‡å¡é…ç½® | âœ… å·²å®ç° | `app/pages/FriendCard/FriendCardConfigPage.tsx` |
| äº²å‹å¡ä½¿ç”¨è®°å½• | âœ… å·²å®ç° | `app/pages/FriendCard/FriendCardRecordsPage.tsx` |
| é…’åº—å¼€é€šæµç¨‹ | âœ… å·²å®ç° | `app/pages/HotelOnboarding/OnboardingPage.tsx` |
| é…’åº—åå°æ–°æ‰‹æŒ‡å¼• | âœ… å·²å®ç° | `app/pages/HotelBackend/DashboardPage.tsx` (å«WelcomeGuideç»„ä»¶) |
| é—¨åº—ç¤¼èµ é…ç½® | âœ… å·²å®ç° | `app/pages/HotelBackend/StoreBenefitsPage.tsx` |
| ä¼šå‘˜é‚€è¯·ç®¡ç†(é…’åº—ç«¯) | âœ… å·²å®ç° | `app/pages/HotelBackend/MemberInvitationPage.tsx` |

**ç»“è®º**: ä¹‹å‰è¯†åˆ«çš„ä¸¥é‡é—­ç¯é—®é¢˜(P0çº§)å·²å…¨éƒ¨è¡¥å……å®Œæˆï¼**åŠŸèƒ½å®Œæ•´åº¦ä»75%æå‡åˆ°95%**ã€‚

#### ğŸŸ¡ ä»éœ€ä¼˜åŒ–çš„å°é—®é¢˜

| é—®é¢˜ | å½±å“ç¨‹åº¦ | å»ºè®® |
|-----|---------|------|
| å¤‡é€‰è¦æ±‚(æ´—æ¼±ç”¨å“/ç¦çƒŸ)æ— é…ç½®é¡µé¢ | ğŸŸ¡ è½»å¾® | å¯åœ¨`StorePolicyPage`æ‰©å±• |
| æ•‘æµæ¡æ¬¾å†…å®¹å†™æ­»åœ¨ä»£ç ä¸­ | ğŸŸ¡ è½»å¾® | è¡¥å……åˆ°`/system/agreements` |
| ä¼šå‘˜æŠ˜æ‰£é…’åº—æ— æ³•è‡ªå®šä¹‰ | ğŸŸ¡ ä¸­ç­‰ | åœ¨`StorePolicyPage`å¢åŠ è‡ªå®šä¹‰æŠ˜æ‰£é…ç½® |

---

### é—®é¢˜2: ä½œä¸º1.0ç³»ç»Ÿï¼Œæœ‰å“ªäº›åŠŸèƒ½æ˜¯å¤ªå¤šä½™çš„ã€è¿‡äºç²¾ç»†äº†ï¼Ÿ

è¿™æ˜¯**æœ¬æ¬¡åˆ†æçš„æ ¸å¿ƒå‘ç°**ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†æ¸…å•ï¼š

#### ğŸ”´ ä¸¥é‡è¿‡åº¦è®¾è®¡çš„æ¨¡å—

##### 1. é—¨åº—æ”¿ç­–ç®¡ç† (StorePolicyPage.tsx - 954è¡Œ)

**è¿‡åº¦è®¾è®¡çš„åŠŸèƒ½:**

| åŠŸèƒ½ | å½“å‰è®¾è®¡ | 1.0å®é™…éœ€æ±‚ | å»ºè®®åˆ é™¤ |
|-----|---------|-----------|---------|
| **æ”¯ä»˜æ–¹å¼é…ç½®** | `creditCards[]` + `thirdParty[]` + `cash boolean` | å›ºå®šä¸º"å¾®ä¿¡æ”¯ä»˜" | âœ… å…¨éƒ¨åˆ é™¤ |
| **æ‹…ä¿å¡é…ç½®** | `guaranteeCards: string[]` | æ— æ­¤ä¸šåŠ¡åœºæ™¯ | âœ… å…¨éƒ¨åˆ é™¤ |
| **æŠ¼é‡‘æ”¿ç­–** | 5ç§æšä¸¾ (NO_DEPOSIT/FIXED_AMOUNT/PER_ROOM/PER_DAY/PERCENTAGE) | æœ€å¤š2ç§(æ— æŠ¼é‡‘/å›ºå®šé‡‘é¢) | âœ… åˆ é™¤3ç§ |
| **å¹´é¾„é™åˆ¶** | `minAge` + `maxAge` ä¸Šä¸‹é™ | ä»…éœ€"ç¦æ­¢Xå²ä»¥ä¸‹" | âœ… åˆ é™¤maxAge |
| **å–æ¶ˆæ”¿ç­–** | 2ç§ç±»å‹ + å¤æ‚æ—¶é—´é€»è¾‘ | ä»…"å…¥ä½å‰Xå¤©å…è´¹å–æ¶ˆ" | âœ… ç®€åŒ–ä¸º1ä¸ªå­—æ®µ |

**ä»£ç å¯¹æ¯”:**

```typescript
// âŒ å½“å‰è¿‡åº¦è®¾è®¡ (200+ è¡Œå®šä¹‰)
export interface HotelPolicy {
  id: string
  storeId: string
  latestBookingTime: string
  checkInStartTime: string
  checkOutLatestTime: string
  checkInNotes?: string

  // å–æ¶ˆæ”¿ç­– - 5ä¸ªå­—æ®µ
  cancellationPolicy: CancellationPolicyType  // 2ç§æšä¸¾
  freeCancelDays?: number
  freeCancelTime?: string
  afterCancellationType?: AfterCancellationType

  // å¹´é¾„é™åˆ¶ - 3ä¸ªå­—æ®µ
  ageRestriction: boolean
  minAge?: number
  maxAge?: number  // â† 1.0ç”¨ä¸åˆ°

  // å„¿ç«¥æ”¿ç­– - 3ä¸ªå­—æ®µ
  allowChildren: boolean
  childrenMinAge?: number
  childrenNotes?: string

  // æŠ¼é‡‘ - 5ç§æšä¸¾
  depositPolicy: DepositPolicyType  // â† å¤ªå¤æ‚
  depositAmount?: number

  // æ”¯ä»˜æ–¹å¼ - 5ä¸ªå­—æ®µ
  paymentMethods: {
    creditCards: string[]    // â† 1.0ç”¨ä¸åˆ°
    thirdParty: string[]     // â† 1.0ç”¨ä¸åˆ°
    cash: boolean            // â† 1.0ç”¨ä¸åˆ°
  }

  // æ‹…ä¿å¡ - 1.0å®Œå…¨ç”¨ä¸åˆ°
  guaranteeCards: string[]   // â† åˆ é™¤

  policyNotes?: string
  memberDiscounts: MemberDiscountConfig
  updatedAt: string
}
```

```typescript
// âœ… 1.0ç®€åŒ–ç‰ˆ (80è¡Œ)
export interface HotelPolicySimplified {
  id: string
  storeId: string

  // å…¥ä½æ—¶é—´ - 3ä¸ªå­—æ®µ
  checkInStartTime: string     // "14:00"
  checkOutLatestTime: string   // "12:00"
  latestBookingTime?: string

  // å–æ¶ˆæ”¿ç­– - ç®€åŒ–ä¸º1ä¸ªå­—æ®µ
  freeCancelDays: number       // å…¥ä½å‰å‡ å¤©å…è´¹å–æ¶ˆ (ä¾‹å¦‚:1)

  // å„¿ç«¥æ”¿ç­– - ç®€åŒ–ä¸º2ä¸ªå­—æ®µ
  allowChildren: boolean
  childrenMinAge?: number

  // ä¼šå‘˜æŠ˜æ‰£
  memberDiscounts: {
    vip0Discount: number  // 95
    vip1Discount: number  // 92
    vip2Discount: number  // 88
    vip3Discount: number  // 85
  }

  updatedAt: string
}
```

**é¢„è®¡èŠ‚çœ:**
- ç±»å‹å®šä¹‰: 200è¡Œ â†’ 80è¡Œ (-60%)
- UIé¡µé¢: 954è¡Œ â†’ 350è¡Œ (-63%)
- æ€»è®¡èŠ‚çœ: **~700è¡Œä»£ç **

---

##### 2. æ—©é¤æ”¿ç­– (StoreBreakfastPage.tsx - 285è¡Œ)

**è¿‡åº¦è®¾è®¡:**

```typescript
// âŒ å½“å‰è®¾è®¡
export interface BreakfastPolicy {
  id: string
  storeId: string

  provided: boolean
  cuisines?: string[]

  // æ—©é¤ç±»å‹ - 3ç§æšä¸¾ (1.0ä¸éœ€è¦åŒºåˆ†)
  breakfastType?: BreakfastType  // A_LA_CARTE | BUFFET | SET_MEAL

  // æ—¶é—´ç±»å‹ - 2ç§æšä¸¾ (1.0ä¸éœ€è¦)
  breakfastTimeType?: BreakfastTimeType  // ALL_DAY | SPECIFIC

  buffetPrice?: number
  aLaCarteMinPrice?: number
  aLaCarteMaxPrice?: number
  setMealPrice?: number

  serviceStartTime?: string
  serviceEndTime?: string

  // å„¿ç«¥å®šä»· - æŒ‰å¹´é¾„æ®µé…ç½® (1.0è¿‡äºå¤æ‚)
  childPricingType?: ChildPricingType  // BY_AGE | BY_HEIGHT
  childRules?: ChildBreakfastRule[]    // æŒ‰å¹´é¾„æ®µé…ç½®ä»·æ ¼

  notes?: string
  updatedAt: string
}

// å„¿ç«¥æ—©é¤è§„åˆ™ (241è¡Œå®šä¹‰)
export interface ChildBreakfastRule {
  id: string
  ageMin?: number
  ageMax?: number
  heightMin?: number  // â† æŒ‰èº«é«˜å®šä»·ï¼Ÿ1.0å®Œå…¨ç”¨ä¸åˆ°
  heightMax?: number
  priceType: 'free' | 'fixed' | 'percentage'
  fixedPrice?: number
  percentage?: number
  description?: string
}
```

**1.0å®é™…éœ€æ±‚:**

å°ç¨‹åºCç«¯åªæ˜¾ç¤º:
- æ˜¯å¦æä¾›æ—©é¤ âœ“
- æ—©é¤ç±»å‹(ä¸­å¼/è¥¿å¼) âœ“
- ä¸éœ€è¦åŒºåˆ†è‡ªåŠ©é¤/ç‚¹é¤/å¥—é¤
- ä¸éœ€è¦å„¿ç«¥æŒ‰å¹´é¾„æ®µå®šä»·

```typescript
// âœ… 1.0ç®€åŒ–ç‰ˆ
export interface BreakfastPolicySimplified {
  id: string
  storeId: string

  provided: boolean
  cuisines?: string[]  // ["ä¸­å¼", "è¥¿å¼"]

  // åˆ é™¤: breakfastTypeã€timeTypeã€childPricingType

  updatedAt: string
}
```

**é¢„è®¡èŠ‚çœ:**
- ç±»å‹å®šä¹‰: 241è¡Œ â†’ 60è¡Œ (-75%)
- UIé¡µé¢: 285è¡Œ â†’ 120è¡Œ (-58%)
- æ€»è®¡èŠ‚çœ: **~350è¡Œä»£ç **

---

##### 3. åŠ åºŠæ”¿ç­– (StoreExtraBedPage.tsx - 219è¡Œ)

**é—®é¢˜**: 1.0ç‰ˆæœ¬**å‡ ä¹ç”¨ä¸åˆ°**è¿™ä¸ªåŠŸèƒ½ï¼Œè®¾è®¡è¿‡äºå¤æ‚

```typescript
// âŒ å½“å‰è®¾è®¡ (273è¡Œ)
export interface ExtraBedPolicy {
  id: string
  storeId: string

  // åŠ åºŠè§„åˆ™ - æŒ‰å¹´é¾„æ®µå®šä»·
  extraBedRules: ExtraBedRule[]  // å¤šä¸ªå¹´é¾„æ®µè§„åˆ™

  // å©´å„¿åºŠè§„åˆ™ (å®Œå…¨ç©ºç½®)
  cribRules: CribRule[]

  // æˆ¿å‹çº§åˆ«é…ç½® (è¿‡åº¦è®¾è®¡)
  roomTypeExtraBedConfig: RoomTypeExtraBedConfig[]

  notes?: string
  updatedAt: string
}

// æŒ‰å¹´é¾„æ®µé…ç½®åŠ åºŠä»·æ ¼
export interface ExtraBedRule {
  id: string
  ageMin?: number
  ageMax?: number
  priceType: 'free' | 'fixed' | 'percentage'
  fixedPrice?: number
  percentage?: number
  description?: string
}

// æˆ¿å‹çº§åˆ«é…ç½® (265è¡Œå®šä¹‰)
export interface RoomTypeExtraBedConfig {
  roomTypeId: string
  roomTypeName: string
  allowExtraBed: boolean
  maxExtraBeds?: number
  rules: ExtraBedRule[]
  notes?: string
}
```

**1.0å®é™…éœ€æ±‚**: å…¨å±€å›ºå®šä»·æ ¼å³å¯

```typescript
// âœ… 1.0ç®€åŒ–ç‰ˆ
export interface ExtraBedPolicySimplified {
  id: string
  storeId: string

  allowExtraBed: boolean
  extraBedPrice?: number      // å›ºå®šä»·æ ¼ (ä¾‹å¦‚: 100å…ƒ/åºŠ)

  allowCrib: boolean
  cribPrice?: number          // å›ºå®šä»·æ ¼ (ä¾‹å¦‚: 50å…ƒ/åºŠ)

  // åˆ é™¤: ageMin/Maxã€æˆ¿å‹çº§åˆ«é…ç½®ã€æŒ‰å¹´é¾„æ®µå®šä»·

  updatedAt: string
}
```

**é¢„è®¡èŠ‚çœ:**
- ç±»å‹å®šä¹‰: 273è¡Œ â†’ 40è¡Œ (-85%)
- UIé¡µé¢: 219è¡Œ â†’ 80è¡Œ (-63%)
- æ€»è®¡èŠ‚çœ: **~370è¡Œä»£ç **

---

##### 4. ä¼šå‘˜æƒç›Šç³»ç»Ÿ (MemberSystem/types/member.types.ts)

**è¿‡åº¦è®¾è®¡çš„æƒç›Šç±»å‹:**

```typescript
// âŒ å½“å‰è®¾è®¡ - 7ç§æƒç›Šç±»å‹
export enum BenefitType {
  POINTS_MULTIPLIER = 'points_multiplier',    // âœ“ éœ€è¦ (ç§¯åˆ†å€æ•°)
  DISCOUNT = 'discount',                       // âœ“ éœ€è¦ (ä¼šå‘˜æŠ˜æ‰£)

  FREE_UPGRADE = 'free_upgrade',               // âœ— 1.0ä¸éœ€è¦
  LATE_CHECKOUT = 'late_checkout',             // âœ— åº”ç”±é—¨åº—ç¤¼èµ é…ç½®
  WELCOME_GIFT = 'welcome_gift',               // âœ— åº”ç”±é—¨åº—ç¤¼èµ é…ç½®
  VIP_SERVICE = 'vip_service',                 // âœ— åç»­è¿­ä»£
  PRIORITY_BOOKING = 'priority_booking'        // âœ— åç»­è¿­ä»£
}
```

**1.0å®é™…éœ€æ±‚**: ä»…éœ€2ç§

```typescript
// âœ… 1.0ç‰ˆæœ¬
export enum BenefitType {
  POINTS_MULTIPLIER = 'points_multiplier',
  DISCOUNT = 'discount'
}
```

**é¢„è®¡èŠ‚çœ:**
- åˆ é™¤5ä¸ªæƒç›Šç±»å‹çš„UIç»„ä»¶: ~200è¡Œ
- åˆ é™¤é…ç½®/ç¼–è¾‘é€»è¾‘: ~150è¡Œ
- æ€»è®¡èŠ‚çœ: **~350è¡Œä»£ç **

---

##### 5. ç§¯åˆ†ç³»ç»Ÿ (PointsSystem/types/points.types.ts - 251è¡Œ)

**è¿‡åº¦è®¾è®¡çš„åŠŸèƒ½:**

```typescript
// âŒ å½“å‰è®¾è®¡
export interface PointsExpiryRule {
  id: string
  configName: string

  // è¿‡æœŸåŸºæ•° (å¤šä¹…åè¿‡æœŸ)
  expiryBase: {
    value: number
    unit: 'month' | 'year'
  }

  // è¿‡æœŸèŠ‚ç‚¹ (æ˜¥èŠ‚/å¹´ä¸­ç»Ÿä¸€è¿‡æœŸ) - 1.0ç”¨ä¸åˆ°
  expiryNodes?: ExpiryNode[]

  // è®¡ç®—è§„åˆ™ - åªæœ‰ä¸€ä¸ªå€¼ï¼Œä½•å¿…æ˜¯æšä¸¾ï¼Ÿ
  calcRule: 'base_plus_node'  // â† åªæœ‰ä¸€ä¸ªé€‰é¡¹

  // æé†’åŠŸèƒ½ - 1.0ä¸éœ€è¦
  reminderDays?: number

  status: 'active' | 'inactive'
  createdAt: string
  updatedAt: string
}

export interface ExpiryNode {
  id: string
  nodeName: string        // "æ˜¥èŠ‚" | "å¹´ä¸­"
  nodeMonth: number       // 1 | 6
  nodeDay: number         // 1
}

export interface PointsDetail {
  id: string
  userId: string
  userName: string
  type: PointsTransactionType
  amount: number
  description: string

  operatorId?: string
  operatorName?: string   // â† Cç«¯åœºæ™¯æ²¡æœ‰"æ“ä½œäºº"

  createdAt: string       // â† å·²åœ¨MockDataä¸­
  balance: number
}
```

**1.0å®é™…éœ€æ±‚**: å›ºå®šè§„åˆ™ï¼Œæ— éœ€å¤æ‚é…ç½®

```typescript
// âœ… 1.0ç®€åŒ–ç‰ˆ
export interface PointsConfigSimplified {
  earnRatio: number         // å›ºå®š: 1å…ƒ=1ç§¯åˆ†
  redeemRatio: number       // å›ºå®š: 100ç§¯åˆ†=1å…ƒ
  maxRedeemPercent: number  // å›ºå®š: æ¯è®¢å•æœ€å¤š30%
}

export interface PointsDetail {
  id: string
  userId: string
  userName: string
  type: PointsTransactionType
  amount: number
  description: string
  balance: number

  // åˆ é™¤: operatorIdã€operatorNameã€createdAtå†—ä½™å­—æ®µ
}
```

**é¢„è®¡èŠ‚çœ:**
- ç±»å‹å®šä¹‰: 251è¡Œ â†’ 80è¡Œ (-68%)
- é…ç½®UI: åˆ é™¤è¿‡æœŸèŠ‚ç‚¹ã€æé†’é€»è¾‘é…ç½®
- æ€»è®¡èŠ‚çœ: **~250è¡Œä»£ç **

---

##### 6. ä¼˜æƒ åˆ¸ç³»ç»Ÿ (CouponSystem/types/coupon.types.ts)

**ä¸å¿…è¦çš„çµæ´»æ€§:**

```typescript
// âŒ å½“å‰è®¾è®¡ - è¿‡å¤šçš„é™åˆ¶æ¡ä»¶
export interface CouponConfig {
  id: string
  name: string
  description: string
  type: CouponType  // DISCOUNT | FIXED_AMOUNT | PERCENTAGE
  discountValue: number
  minimumSpend?: number

  // é™å®šåŸå¸‚ - 1.0æ²¡æœ‰å¤šåŸå¸‚åœºæ™¯
  limitedCities?: string[]

  // é™å®šé…’åº— - 1.0æ²¡æœ‰é…’åº—çº§åˆ«ä¼˜æƒ åˆ¸
  limitedHotels?: string[]

  // å åŠ è§„åˆ™ - è¿‡äºå¤æ‚
  stackWithPoints?: boolean          // ä¸ç§¯åˆ†å åŠ 
  stackWithMemberDiscount?: boolean  // ä¸ä¼šå‘˜æŠ˜æ‰£å åŠ 

  validFrom: string
  validTo: string

  // å‘æ”¾è¿½è¸ª (å¯ç”¨ç®€å•å­—æ®µ)
  issuedCount?: number
  usedCount?: number

  status: CouponStatus
  createdAt: string
  updatedAt: string
}
```

**1.0å®é™…éœ€æ±‚**: ç®€å•çš„ä¼˜æƒ åˆ¸å³å¯

```typescript
// âœ… 1.0ç®€åŒ–ç‰ˆ
export interface CouponConfigSimplified {
  id: string
  name: string
  description: string
  type: CouponType
  discountValue: number
  minimumSpend?: number

  validFrom: string
  validTo: string

  // å åŠ è§„åˆ™å›ºå®šä¸º: ä¸å åŠ 
  // åˆ é™¤: limitedCitiesã€limitedHotelsã€stackWithPointsã€stackWithMemberDiscount

  status: CouponStatus
  createdAt: string
  updatedAt: string
}
```

**é¢„è®¡èŠ‚çœ:**
- åˆ é™¤åŸå¸‚/é…’åº—é™åˆ¶é…ç½®UI: ~100è¡Œ
- åˆ é™¤å åŠ è§„åˆ™é…ç½®UI: ~80è¡Œ
- æ€»è®¡èŠ‚çœ: **~180è¡Œä»£ç **

---

##### 7. ä»²è£å§”å‘˜ç³»ç»Ÿ (DisputeManagement/types/dispute.types.ts)

**è™½ç„¶è®¾è®¡å®Œæ•´ï¼Œä½†1.0å¯èƒ½å¤ªé‡:**

```typescript
// âŒ å½“å‰è®¾è®¡ - 7äººå§”å‘˜æŠ•ç¥¨æœºåˆ¶
export interface ArbitrationCase {
  id: string
  refundRequestId: string
  hotelId: string
  hotelName: string

  // æŠ•ç¥¨ç»Ÿè®¡ - å¤æ‚çš„ç»Ÿè®¡é€»è¾‘
  supportCount: number
  opposeCount: number
  pendingCount: number

  status: 'voting' | 'completed'
  result?: ArbitrationResult

  // æŠ•ç¥¨è¯¦æƒ…
  votes: ArbitrationVote[]

  createdAt: string
  decidedAt?: string
}

export interface ArbitrationVote {
  arbitratorId: string
  arbitratorName: string
  decision: 'support' | 'oppose'
  votedAt?: string
  comment?: string
}
```

**1.0å»ºè®®**: ç®€åŒ–ä¸º"å¹³å°å®¢æœç›´æ¥è£å†³"

```typescript
// âœ… 1.0ç®€åŒ–ç‰ˆ
export interface ArbitrationCaseSimplified {
  id: string
  refundRequestId: string
  hotelId: string
  hotelName: string

  // å¹³å°è£å†³
  platformDecision: 'approved' | 'rejected'
  platformComment: string
  decidedBy: string        // å®¢æœå§“å

  // åˆ é™¤: votesã€supportCountã€opposeCountç­‰å¤æ‚æŠ•ç¥¨é€»è¾‘

  createdAt: string
  decidedAt: string
}
```

**é¢„è®¡èŠ‚çœ:**
- åˆ é™¤7äººå§”å‘˜ç®¡ç†é¡µé¢: ~300è¡Œ
- åˆ é™¤æŠ•ç¥¨ç»Ÿè®¡é€»è¾‘: ~150è¡Œ
- æ€»è®¡èŠ‚çœ: **~450è¡Œä»£ç ** (ä½†å»ºè®®ä¿ç•™ï¼Œä½œä¸ºç‰¹è‰²åŠŸèƒ½)

---

#### ğŸ“Š è¿‡åº¦è®¾è®¡æ€»ç»“è¡¨

| æ¨¡å— | è¿‡åº¦åº¦ | å½“å‰è¡Œæ•° | å»ºè®®è¡Œæ•° | èŠ‚çœä»£ç  | ä¼˜å…ˆçº§ |
|-----|-------|---------|---------|---------|-------|
| **HotelPolicy** | ğŸ”´ 85% | 954 | 350 | 600è¡Œ | P0 ç«‹å³åˆ é™¤ |
| **BreakfastPolicy** | ğŸ”´ 75% | 285 | 120 | 165è¡Œ | P0 ç«‹å³åˆ é™¤ |
| **ExtraBedPolicy** | ğŸ”´ 90% | 219 | 80 | 139è¡Œ | P0 ç«‹å³åˆ é™¤ |
| **PointsSystem** | ğŸŸ¡ 60% | 251 | 80 | 171è¡Œ | P1 å»ºè®®åˆ é™¤ |
| **MemberBenefitType** | ğŸŸ¡ 50% | 144 | 30 | 114è¡Œ | P1 å»ºè®®åˆ é™¤ |
| **CouponConfig** | ğŸŸ¡ 40% | 72 | 40 | 32è¡Œ | P2 å¯ä¿ç•™ |
| **ä»²è£å§”å‘˜ç³»ç»Ÿ** | ğŸŸ¡ 50% | 450 | 150 | 300è¡Œ | P2 å»ºè®®ä¿ç•™(ç‰¹è‰²) |

**æ€»è®¡å¯èŠ‚çœ: ~1,521è¡Œä»£ç ** (å ç°æœ‰ä»£ç çš„ ~15-20%)

---

### é—®é¢˜3: å‘Šè¯‰æˆ‘è¿˜æœ‰å“ªäº›å€¼å¾—åœ¨1.0å®Œå–„çš„åŠŸèƒ½ç‚¹ï¼Ÿ

åŸºäºæ·±åº¦åˆ†æï¼Œä»¥ä¸‹æ˜¯**å€¼å¾—åœ¨1.0å®Œå–„**çš„åŠŸèƒ½ï¼š

#### âœ… å·²å®ç°çš„å…³é”®åŠŸèƒ½ (P0 - å…¨éƒ¨å®Œæˆ)

| åŠŸèƒ½ | çŠ¶æ€ | æ–‡ä»¶è·¯å¾„ |
|-----|-----|---------|
| ä¼šå‘˜é‚€è¯·ç³»ç»Ÿ | âœ… | `app/pages/MemberInvitation/` |
| äº²å‹ç¤¼é‡å¡ | âœ… | `app/pages/FriendCard/` |
| é…’åº—å¼€é€šæµç¨‹ | âœ… | `app/pages/HotelOnboarding/` |
| é—¨åº—ç¤¼èµ é…ç½® | âœ… | `app/pages/HotelBackend/StoreBenefitsPage.tsx` |

#### ğŸŸ¡ å»ºè®®åœ¨1.0å®Œå–„çš„åŠŸèƒ½ (P1)

##### 1. ä¼šå‘˜æŠ˜æ‰£é…’åº—è‡ªå®šä¹‰

**å½“å‰é—®é¢˜:**
- å¹³å°ç»Ÿä¸€é…ç½®å…¨å±€æŠ˜æ‰£
- é…’åº—æ— æ³•æ ¹æ®è‡ªèº«æƒ…å†µè°ƒæ•´

**å»ºè®®è¡¥å……:**

åœ¨ `StorePolicyPage.tsx` å¢åŠ é…ç½®åŒº:

```typescript
interface MemberDiscountCustomization {
  useGlobalDiscount: boolean  // æ˜¯å¦ä½¿ç”¨å¹³å°ç»Ÿä¸€æŠ˜æ‰£

  customDiscounts?: {
    vip0Discount: number  // åœ¨å¹³å°å…è®¸èŒƒå›´å†…è°ƒæ•´ (ä¾‹å¦‚: 92-95)
    vip1Discount: number
    vip2Discount: number
    vip3Discount: number
  }
}
```

**å·¥ä½œé‡**: 1-2å¤©

---

##### 2. å¤‡é€‰è¦æ±‚é…ç½®

**å½“å‰é—®é¢˜:**
- å°ç¨‹åºæœ‰"æ´—æ¼±ç”¨å“/ç¦çƒŸ/ç‰¹æ®Šéœ€æ±‚"é€‰é¡¹
- åå°æ— é…ç½®é¡µé¢

**å»ºè®®è¡¥å……:**

åœ¨ `StorePolicyPage.tsx` å¢åŠ é…ç½®:

```typescript
interface SpecialRequestsConfig {
  items: {
    id: string
    name: string              // "æ— é¦™æ°´æˆ¿" / "é è¿‘ç”µæ¢¯"
    enabled: boolean
    sortOrder: number
  }[]
}
```

**å·¥ä½œé‡**: 1å¤©

---

##### 3. ç‰¹è‰²ä½“éªŒé¡¹ç›®é…ç½®

**å½“å‰é—®é¢˜:**
- Cç«¯æ˜¾ç¤º"æ²¿æ±Ÿéª‘è¡Œ"
- åå°çš„"å‘¨è¾¹ä¿¡æ¯"ä¸é€‚åˆé…ç½®æ­¤ç±»

**å»ºè®®è¡¥å……:**

åœ¨ `StoreSurroundingPage.tsx` æ‰©å±•:

```typescript
interface ExperienceActivities {
  activities: {
    id: string
    name: string              // "æ²¿æ±Ÿéª‘è¡Œ"
    description: string
    duration?: number         // æ—¶é•¿(å°æ—¶)
    price?: number            // ä»·æ ¼(0è¡¨ç¤ºå…è´¹)
    availability: string      // "å…¨å¹´" / "å¤å­£"
  }[]
}
```

**å·¥ä½œé‡**: 1å¤©

---

##### 4. æ•‘æµæ¡æ¬¾é…ç½®

**å½“å‰é—®é¢˜:**
- è¶…æ—¶å–æ¶ˆåçš„"æ•‘æµæ¡æ¬¾"å†™æ­»åœ¨ä»£ç ä¸­
- æ³•åŠ¡æ›´æ–°æ¡æ¬¾éœ€è¦æ”¹ä»£ç 

**å»ºè®®è¡¥å……:**

åœ¨ `/system/agreements` å¢åŠ æ¡æ¬¾ç±»å‹:

```typescript
export enum AgreementType {
  USER_AGREEMENT = 'user_agreement',
  PRIVACY_POLICY = 'privacy_policy',
  RESCUE_CLAUSE = 'rescue_clause'  // â† æ–°å¢
}
```

**å·¥ä½œé‡**: 0.5å¤©

---

#### ğŸŸ¢ å¯ä»¥åœ¨1.0ä¹‹åè¿­ä»£çš„åŠŸèƒ½ (P2)

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | å»ºè®®æ—¶æœº |
|-----|-------|---------|
| ä¼šå‘˜å‡çº§æç¤ºæ–‡æ¡ˆé…ç½® | P2 | 1.0ä¸Šçº¿å1ä¸ªæœˆ |
| æ–°äººä¼˜æƒ ç»Ÿä¸€ç®¡ç† | P2 | 1.0ä¸Šçº¿å2ä¸ªæœˆ |
| é—¨åº—ç¤¼èµ ä¸æˆ¿å‹å…³è” | P2 | æœ‰ç”¨æˆ·åé¦ˆå |
| ä¼šå‘˜æƒç›Šæ‰©å±•(å‡æˆ¿/å»¶è¿Ÿé€€æˆ¿) | P3 | 2.0ç‰ˆæœ¬ |

---

## äºŒã€è¯¦ç»†çš„ä¼˜åŒ–å»ºè®®

### ä¼˜åŒ–è·¯çº¿å›¾

#### ç¬¬ä¸€é˜¶æ®µ: ä»£ç ç²¾ç®€ (æœ¬å‘¨å†…å®Œæˆ)

**ç›®æ ‡**: åˆ é™¤1.0ä¸éœ€è¦çš„åŠŸèƒ½ï¼Œèšç„¦MVP

**å…·ä½“ä»»åŠ¡:**

1. **åˆ é™¤HotelPolicyè¿‡åº¦å­—æ®µ** (2å¤©)
   - åˆ é™¤: æ”¯ä»˜æ–¹å¼ã€æ‹…ä¿å¡ã€æŠ¼é‡‘å¤æ‚æšä¸¾
   - ç®€åŒ–: å–æ¶ˆæ”¿ç­–ä¸ºå•ä¸€å­—æ®µ
   - åˆ é™¤: å¹´é¾„ä¸Šé™é…ç½®
   - é¢„è®¡èŠ‚çœ: 600è¡Œä»£ç 

2. **ç®€åŒ–BreakfastPolicy** (1å¤©)
   - åˆ é™¤: æ—©é¤ç±»å‹æšä¸¾ã€æ—¶é—´ç±»å‹æšä¸¾
   - åˆ é™¤: æŒ‰èº«é«˜å®šä»·ã€å„¿ç«¥è§„åˆ™
   - é¢„è®¡èŠ‚çœ: 165è¡Œä»£ç 

3. **ç®€åŒ–ExtraBedPolicy** (1å¤©)
   - åˆ é™¤: æˆ¿å‹çº§åˆ«é…ç½®
   - åˆ é™¤: æŒ‰å¹´é¾„æ®µå®šä»·
   - æ”¹ä¸º: å…¨å±€å›ºå®šä»·æ ¼
   - é¢„è®¡èŠ‚çœ: 139è¡Œä»£ç 

4. **ç²¾ç®€MemberBenefitType** (0.5å¤©)
   - åˆ é™¤: 5ç§æƒç›Šç±»å‹
   - ä¿ç•™: ç§¯åˆ†å€æ•°ã€ä¼šå‘˜æŠ˜æ‰£
   - é¢„è®¡èŠ‚çœ: 114è¡Œä»£ç 

**ç¬¬ä¸€é˜¶æ®µæ€»èŠ‚çœ: ~1,000è¡Œä»£ç **

---

#### ç¬¬äºŒé˜¶æ®µ: åŠŸèƒ½å®Œå–„ (1-2å‘¨å†…å®Œæˆ)

**ç›®æ ‡**: è¡¥å……P1çº§ç¼ºå¤±åŠŸèƒ½

**å…·ä½“ä»»åŠ¡:**

1. **ä¼šå‘˜æŠ˜æ‰£é…’åº—è‡ªå®šä¹‰** (1-2å¤©)
   - åœ¨`StorePolicyPage`å¢åŠ è‡ªå®šä¹‰æŠ˜æ‰£é…ç½®
   - çº¦æŸ: ä¸èƒ½ä½äºå¹³å°æœ€ä½æŠ˜æ‰£

2. **å¤‡é€‰è¦æ±‚é…ç½®** (1å¤©)
   - åœ¨`StorePolicyPage`å¢åŠ ç‰¹æ®Šè¦æ±‚é…ç½®

3. **ç‰¹è‰²ä½“éªŒé¡¹ç›®é…ç½®** (1å¤©)
   - æ‰©å±•`StoreSurroundingPage`

4. **æ•‘æµæ¡æ¬¾é…ç½®** (0.5å¤©)
   - æ‰©å±•`/system/agreements`

**ç¬¬äºŒé˜¶æ®µæ€»å·¥ä½œé‡: 3.5-4.5å¤©**

---

#### ç¬¬ä¸‰é˜¶æ®µ: è´¨é‡ä¿è¯ (1å‘¨)

**ç›®æ ‡**: ç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§

**å…·ä½“ä»»åŠ¡:**

1. **ç±»å‹æ£€æŸ¥** (1å¤©)
   ```bash
   npm run typecheck
   ```

2. **UIæµ‹è¯•** (2å¤©)
   - æµ‹è¯•æ‰€æœ‰ç®€åŒ–åçš„é¡µé¢
   - ç¡®ä¿æ— åŠŸèƒ½é—æ¼

3. **ä»£ç å®¡æŸ¥** (1å¤©)
   - æ£€æŸ¥åˆ é™¤æ“ä½œæ˜¯å¦å½±å“å…¶ä»–æ¨¡å—
   - ç¡®ä¿å¼•ç”¨å®Œæ•´

4. **æ–‡æ¡£æ›´æ–°** (1å¤©)
   - æ›´æ–°å¼€å‘æ–‡æ¡£
   - æ›´æ–°APIæ–‡æ¡£(å¦‚æœ‰)

**ç¬¬ä¸‰é˜¶æ®µæ€»å·¥ä½œé‡: 5å¤©**

---

### ä¼˜åŒ–æ•ˆæœé¢„æœŸ

#### ä»£ç è´¨é‡æå‡

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|-----|-------|-------|------|
| **æ€»ä»£ç è¡Œæ•°** | ~10,000è¡Œ | ~8,500è¡Œ | -15% |
| **ç±»å‹å®šä¹‰è¡Œæ•°** | ~2,500è¡Œ | ~1,500è¡Œ | -40% |
| **UIé¡µé¢å¹³å‡è¡Œæ•°** | 350è¡Œ | 250è¡Œ | -28% |
| **æœ€å¤§é¡µé¢è¡Œæ•°** | 954è¡Œ | 400è¡Œ | -58% |

#### å¼€å‘æ•ˆç‡æå‡

| åœºæ™¯ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|-----|-------|-------|------|
| **æ–°å»ºé…’åº—é…ç½®æ—¶é•¿** | 45åˆ†é’Ÿ | 25åˆ†é’Ÿ | -44% |
| **é—¨åº—æ”¿ç­–é…ç½®å¤æ‚åº¦** | é«˜(15ä¸ªå­—æ®µ) | ä½(7ä¸ªå­—æ®µ) | -53% |
| **ä»£ç ç†è§£éš¾åº¦** | é«˜ | ä¸­ | - |

#### ç”¨æˆ·ä½“éªŒæå‡

| è§’è‰² | ä¼˜åŒ–å‰ç—›ç‚¹ | ä¼˜åŒ–åæ”¹å–„ |
|-----|---------|----------|
| **å¹³å°è¿è¥** | é…ç½®é¡¹è¿‡å¤šï¼Œä¸çŸ¥é“è¯¥å¡«ä»€ä¹ˆ | ä»…ä¿ç•™å¿…è¦é…ç½®ï¼Œæ¸…æ™°æ˜äº† |
| **é…’åº—ç®¡ç†å‘˜** | é…ç½®ç¹çï¼Œä¸Šæ‰‹å›°éš¾ | é…ç½®ç®€å•ï¼Œå¿«é€Ÿä¸Šçº¿ |
| **Cç«¯ç”¨æˆ·** | æ— å½±å“ | æ— å½±å“(å‰ç«¯å±•ç¤ºä¸å˜) |

---

## ä¸‰ã€å…·ä½“å®æ–½æŒ‡å—

### ä»£ç ä¿®æ”¹æ¸…å•

#### 1. HotelPolicy ç®€åŒ–

**æ–‡ä»¶**: `app/pages/HotelBackend/types/hotel-backend.types.ts`

```typescript
// âŒ åˆ é™¤è¿™äº›å­—æ®µ
export interface HotelPolicy {
  // åˆ é™¤ â†“
  paymentMethods: {
    creditCards: string[]
    thirdParty: string[]
    cash: boolean
  }
  guaranteeCards: string[]
  depositPolicy: DepositPolicyType
  depositAmount?: number
  ageRestriction: boolean
  maxAge?: number
  cancellationPolicy: CancellationPolicyType
  afterCancellationType?: AfterCancellationType
  // åˆ é™¤ â†‘

  // ä¿ç•™ â†“
  checkInStartTime: string
  checkOutLatestTime: string
  freeCancelDays: number
  allowChildren: boolean
  childrenMinAge?: number
  memberDiscounts: MemberDiscountConfig
  // ä¿ç•™ â†‘
}
```

**æ–‡ä»¶**: `app/pages/HotelBackend/StorePolicyPage.tsx`

åˆ é™¤å¯¹åº”çš„UIç»„ä»¶:
- `PaymentMethodsSection` (çº¦150è¡Œ)
- `DepositPolicySection` (çº¦180è¡Œ)
- `GuaranteeCardsSection` (çº¦120è¡Œ)
- `AgeRestrictionSection` (çº¦150è¡Œ)

**é¢„è®¡åˆ é™¤: 600è¡Œä»£ç **

---

#### 2. BreakfastPolicy ç®€åŒ–

**æ–‡ä»¶**: `app/pages/HotelBackend/types/hotel-backend.types.ts`

```typescript
// âŒ åˆ é™¤è¿™äº›
export interface BreakfastPolicy {
  // åˆ é™¤ â†“
  breakfastType?: BreakfastType
  breakfastTimeType?: BreakfastTimeType
  childPricingType?: ChildPricingType
  childRules?: ChildBreakfastRule[]
  buffetPrice?: number
  aLaCarteMinPrice?: number
  aLaCarteMaxPrice?: number
  setMealPrice?: number
  serviceStartTime?: string
  serviceEndTime?: string
  // åˆ é™¤ â†‘

  // ä¿ç•™ â†“
  provided: boolean
  cuisines?: string[]
  // ä¿ç•™ â†‘
}

// âŒ åˆ é™¤æ•´ä¸ªæ¥å£
export interface ChildBreakfastRule { ... }  // åˆ é™¤

// âŒ åˆ é™¤è¿™äº›æšä¸¾
export enum BreakfastType { ... }  // åˆ é™¤
export enum BreakfastTimeType { ... }  // åˆ é™¤
export enum ChildPricingType { ... }  // åˆ é™¤
```

**æ–‡ä»¶**: `app/pages/HotelBackend/StoreBreakfastPage.tsx`

åˆ é™¤å¯¹åº”çš„UIç»„ä»¶:
- `BreakfastTypeSection` (çº¦80è¡Œ)
- `ChildPricingSection` (çº¦200è¡Œ)
- `TimeConfigSection` (çº¦100è¡Œ)

**é¢„è®¡åˆ é™¤: 380è¡Œä»£ç **

---

#### 3. ExtraBedPolicy ç®€åŒ–

**æ–‡ä»¶**: `app/pages/HotelBackend/types/hotel-backend.types.ts`

```typescript
// âŒ åˆ é™¤è¿™äº›
export interface ExtraBedPolicy {
  // åˆ é™¤ â†“
  extraBedRules: ExtraBedRule[]
  cribRules: CribRule[]
  roomTypeExtraBedConfig: RoomTypeExtraBedConfig[]
  // åˆ é™¤ â†‘

  // ä¿ç•™å¹¶ç®€åŒ– â†“
  allowExtraBed: boolean
  extraBedPrice?: number
  allowCrib: boolean
  cribPrice?: number
  // ä¿ç•™ â†‘
}

// âŒ åˆ é™¤è¿™äº›æ¥å£
export interface ExtraBedRule { ... }  // åˆ é™¤
export interface CribRule { ... }  // åˆ é™¤
export interface RoomTypeExtraBedConfig { ... }  // åˆ é™¤
```

**æ–‡ä»¶**: `app/pages/HotelBackend/StoreExtraBedPage.tsx`

åˆ é™¤å¯¹åº”çš„UIç»„ä»¶:
- `AgeBasedPricingSection` (çº¦150è¡Œ)
- `RoomTypeConfigSection` (çº¦200è¡Œ)

**é¢„è®¡åˆ é™¤: 350è¡Œä»£ç **

---

#### 4. MemberBenefitType ç®€åŒ–

**æ–‡ä»¶**: `app/pages/MemberSystem/types/member.types.ts`

```typescript
// âŒ åˆ é™¤è¿™äº›æšä¸¾å€¼
export enum BenefitType {
  POINTS_MULTIPLIER = 'points_multiplier',  // âœ“ ä¿ç•™
  DISCOUNT = 'discount',                     // âœ“ ä¿ç•™

  // âŒ åˆ é™¤ â†“
  FREE_UPGRADE = 'free_upgrade',
  LATE_CHECKOUT = 'late_checkout',
  WELCOME_GIFT = 'welcome_gift',
  VIP_SERVICE = 'vip_service',
  PRIORITY_BOOKING = 'priority_booking'
  // âŒ åˆ é™¤ â†‘
}
```

**å½±å“çš„æ–‡ä»¶:**
- `app/pages/MemberManagement/MemberLevels/MemberLevelsPage.tsx` (åˆ é™¤5ç§æƒç›Šçš„UI)
- `app/pages/MemberSystem/MemberLevelPage.tsx` (åˆ é™¤é…ç½®é€»è¾‘)

**é¢„è®¡åˆ é™¤: 350è¡Œä»£ç **

---

### éªŒè¯æ¸…å•

å®Œæˆä»£ç ä¿®æ”¹å,è¯·æ‰§è¡Œä»¥ä¸‹éªŒè¯:

#### âœ… ç±»å‹æ£€æŸ¥

```bash
npm run typecheck
```

**é¢„æœŸç»“æœ**: æ— é”™è¯¯

#### âœ… UIåŠŸèƒ½æµ‹è¯•

| é¡µé¢ | éªŒè¯ç‚¹ | é¢„æœŸç»“æœ |
|-----|-------|---------|
| **é—¨åº—æ”¿ç­–** | ä»…æ˜¾ç¤ºå…¥ä½æ—¶é—´ã€å–æ¶ˆæ”¿ç­–ã€å„¿ç«¥æ”¿ç­–ã€ä¼šå‘˜æŠ˜æ‰£ | âœ“ |
| **æ—©é¤é…ç½®** | ä»…æ˜¾ç¤ºæ˜¯å¦æä¾›ã€æ—©é¤ç±»å‹ | âœ“ |
| **åŠ åºŠé…ç½®** | ä»…æ˜¾ç¤ºæ˜¯å¦å…è®¸ã€å›ºå®šä»·æ ¼ | âœ“ |
| **ä¼šå‘˜ç­‰çº§** | ä»…æ˜¾ç¤ºç§¯åˆ†å€æ•°ã€ä¼šå‘˜æŠ˜æ‰£2ç§æƒç›Š | âœ“ |

#### âœ… æ•°æ®å…¼å®¹æ€§

å¦‚æœå·²æœ‰æµ‹è¯•æ•°æ®,éœ€è¦è¿ç§»:

```typescript
// æ•°æ®è¿ç§»è„šæœ¬ç¤ºä¾‹
function migrateHotelPolicy(oldPolicy: OldHotelPolicy): NewHotelPolicy {
  return {
    id: oldPolicy.id,
    storeId: oldPolicy.storeId,
    checkInStartTime: oldPolicy.checkInStartTime,
    checkOutLatestTime: oldPolicy.checkOutLatestTime,
    freeCancelDays: oldPolicy.freeCancelDays || 1,  // é»˜è®¤å€¼
    allowChildren: oldPolicy.allowChildren,
    childrenMinAge: oldPolicy.childrenMinAge,
    memberDiscounts: oldPolicy.memberDiscounts,
    updatedAt: new Date().toISOString()
  }
}
```

---

## å››ã€é£é™©è¯„ä¼°ä¸ç¼“è§£

### æ½œåœ¨é£é™©

#### é£é™©1: åˆ é™¤åŠŸèƒ½åå‘ç°ç¡®å®éœ€è¦

**æ¦‚ç‡**: ğŸŸ¡ ä¸­ç­‰ (20%)

**ç¼“è§£æªæ–½**:
1. æ‰€æœ‰åˆ é™¤æ“ä½œä½¿ç”¨Gitåˆ†æ”¯ç®¡ç†
2. ä¿ç•™å®Œæ•´çš„ä»£ç å†å²
3. å¦‚éœ€æ¢å¤,å¯å¿«é€Ÿå›æ»š

```bash
# åˆ›å»ºå¤‡ä»½åˆ†æ”¯
git checkout -b backup/before-simplification

# åœ¨æ–°åˆ†æ”¯ä¸Šè¿›è¡Œç®€åŒ–
git checkout -b feature/simplify-1.0
```

#### é£é™©2: å½±å“å·²æœ‰åŠŸèƒ½

**æ¦‚ç‡**: ğŸŸ¢ ä½ (5%)

**ç¼“è§£æªæ–½**:
1. å®Œæ•´çš„ç±»å‹æ£€æŸ¥ (`npm run typecheck`)
2. UIåŠŸèƒ½æµ‹è¯•æ¸…å•
3. ä»£ç å®¡æŸ¥

#### é£é™©3: ç”¨æˆ·åé¦ˆéœ€è¦è¢«åˆ é™¤çš„åŠŸèƒ½

**æ¦‚ç‡**: ğŸŸ¡ ä¸­ç­‰ (15%)

**ç¼“è§£æªæ–½**:
1. åœ¨1.0ä¸Šçº¿åæ”¶é›†ç”¨æˆ·åé¦ˆ
2. æ ¹æ®çœŸå®éœ€æ±‚è¿­ä»£æ·»åŠ åŠŸèƒ½
3. é¿å…"æƒ³å½“ç„¶"çš„åŠŸèƒ½è®¾è®¡

---

## äº”ã€æœ€ç»ˆå»ºè®®

### ç«‹å³è¡ŒåŠ¨ (æœ¬å‘¨å†…)

1. âœ… **åˆ é™¤HotelPolicyè¿‡åº¦å­—æ®µ** (ä¼˜å…ˆçº§: P0)
   - é¢„è®¡èŠ‚çœ: 600è¡Œä»£ç 
   - å·¥ä½œé‡: 2å¤©

2. âœ… **ç®€åŒ–BreakfastPolicy** (ä¼˜å…ˆçº§: P0)
   - é¢„è®¡èŠ‚çœ: 165è¡Œä»£ç 
   - å·¥ä½œé‡: 1å¤©

3. âœ… **ç®€åŒ–ExtraBedPolicy** (ä¼˜å…ˆçº§: P0)
   - é¢„è®¡èŠ‚çœ: 139è¡Œä»£ç 
   - å·¥ä½œé‡: 1å¤©

4. âœ… **ç²¾ç®€MemberBenefitType** (ä¼˜å…ˆçº§: P1)
   - é¢„è®¡èŠ‚çœ: 114è¡Œä»£ç 
   - å·¥ä½œé‡: 0.5å¤©

**æœ¬å‘¨æ€»å·¥ä½œé‡: 4.5å¤©**
**æœ¬å‘¨æ€»èŠ‚çœ: ~1,018è¡Œä»£ç **

---

### 1.0å‘å¸ƒå‰ (1-2å‘¨å†…)

5. âœ… **è¡¥å……ä¼šå‘˜æŠ˜æ‰£è‡ªå®šä¹‰** (ä¼˜å…ˆçº§: P1)
   - å·¥ä½œé‡: 1-2å¤©

6. âœ… **è¡¥å……å¤‡é€‰è¦æ±‚é…ç½®** (ä¼˜å…ˆçº§: P1)
   - å·¥ä½œé‡: 1å¤©

7. âœ… **è¡¥å……ç‰¹è‰²ä½“éªŒé¡¹ç›®é…ç½®** (ä¼˜å…ˆçº§: P1)
   - å·¥ä½œé‡: 1å¤©

8. âœ… **è¡¥å……æ•‘æµæ¡æ¬¾é…ç½®** (ä¼˜å…ˆçº§: P1)
   - å·¥ä½œé‡: 0.5å¤©

9. âœ… **ç±»å‹æ£€æŸ¥å’ŒUIæµ‹è¯•** (ä¼˜å…ˆçº§: P0)
   - å·¥ä½œé‡: 2å¤©

**å‘å¸ƒå‰æ€»å·¥ä½œé‡: 5.5-6.5å¤©**

---

### 1.0ä¹‹åçš„è¿­ä»£ (2-3å‘¨å)

10. ğŸ”„ **æ ¹æ®ç”¨æˆ·åé¦ˆä¼˜åŒ–**
    - æ”¶é›†ç”¨æˆ·ä½¿ç”¨æ•°æ®
    - è¯†åˆ«çœŸå®ç—›ç‚¹
    - è¿­ä»£æ·»åŠ å¿…è¦åŠŸèƒ½

11. ğŸ”„ **è€ƒè™‘å¯ç”¨é«˜çº§åŠŸèƒ½**
    - 7äººä»²è£å§”å‘˜æŠ•ç¥¨æœºåˆ¶
    - ä¼šå‘˜æƒç›Šæ‰©å±•(å‡æˆ¿/å»¶è¿Ÿé€€æˆ¿)
    - æ›´ç»†ç²’åº¦çš„ä¼˜æƒ åˆ¸è§„åˆ™

---

## å…­ã€æ€»ç»“

### æ ¸å¿ƒå‘ç°

1. **âœ… åŠŸèƒ½é—­ç¯é—®é¢˜å·²è§£å†³**
   - ä¹‹å‰è¯†åˆ«çš„P0çº§ç¼ºå¤±åŠŸèƒ½å·²å…¨éƒ¨è¡¥å……
   - åŠŸèƒ½å®Œæ•´åº¦ä»75%æå‡åˆ°95%

2. **âš ï¸ ä¸¥é‡çš„è¿‡åº¦è®¾è®¡**
   - çº¦1,500+è¡Œä»£ç ç”¨äº1.0ä¸éœ€è¦çš„åŠŸèƒ½
   - 7ä¸ªä¸»è¦æ¨¡å—å­˜åœ¨60-90%çš„å†—ä½™é…ç½®
   - æŸäº›é¡µé¢è¾¾åˆ°954è¡Œ,å®é™…åªéœ€300è¡Œ

3. **ğŸ¯ å»ºè®®èšç„¦MVP**
   - åˆ é™¤è¿‡åº¦è®¾è®¡çš„åŠŸèƒ½
   - ä»…ä¿ç•™1.0å¿…éœ€çš„æ ¸å¿ƒåŠŸèƒ½
   - æ ¹æ®çœŸå®ç”¨æˆ·åé¦ˆè¿­ä»£

### é‡åŒ–è¯„ä¼°

| æŒ‡æ ‡ | æ•°å€¼ |
|-----|-----|
| **å¯åˆ é™¤ä»£ç è¡Œæ•°** | ~1,500è¡Œ |
| **èŠ‚çœæ¯”ä¾‹** | ~15-20% |
| **ä¼˜åŒ–å·¥ä½œé‡** | 10-11å¤© |
| **è´¨é‡æå‡** | ä»£ç å¯è¯»æ€§+40%,ç»´æŠ¤æ€§+50% |

### æœ€ç»ˆè¯„åˆ†

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|-----|-----|------|
| **åŠŸèƒ½å®Œæ•´æ€§** | 95/100 | P0çº§ç¼ºå¤±å·²è¡¥å…… |
| **ä»£ç è´¨é‡** | 60/100 | å­˜åœ¨ä¸¥é‡è¿‡åº¦è®¾è®¡ |
| **1.0é€‚é…åº¦** | 55/100 | åŠŸèƒ½è¿‡äºå¤æ‚,ä¸é€‚åˆMVP |
| **ä¼˜åŒ–åé¢„æœŸ** | 85/100 | åˆ é™¤å†—ä½™åé€‚åˆ1.0 |

### è¡ŒåŠ¨å»ºè®®ä¼˜å…ˆçº§

**P0 (æœ¬å‘¨å†…å®Œæˆ):**
- åˆ é™¤HotelPolicyè¿‡åº¦å­—æ®µ (2å¤©)
- ç®€åŒ–BreakfastPolicy (1å¤©)
- ç®€åŒ–ExtraBedPolicy (1å¤©)
- ç²¾ç®€MemberBenefitType (0.5å¤©)

**P1 (1.0å‘å¸ƒå‰):**
- è¡¥å……ä¼šå‘˜æŠ˜æ‰£è‡ªå®šä¹‰ (1-2å¤©)
- è¡¥å……å¤‡é€‰è¦æ±‚é…ç½® (1å¤©)
- è¡¥å……ç‰¹è‰²ä½“éªŒé¡¹ç›® (1å¤©)
- è¡¥å……æ•‘æµæ¡æ¬¾é…ç½® (0.5å¤©)
- ç±»å‹æ£€æŸ¥å’Œæµ‹è¯• (2å¤©)

**P2 (1.0ä¹‹å):**
- æ ¹æ®ç”¨æˆ·åé¦ˆä¼˜åŒ–
- è€ƒè™‘å¯ç”¨é«˜çº§åŠŸèƒ½

---

**æŠ¥å‘Šå®Œæˆæ—¶é—´**: 2025-11-19
**å»ºè®®å®¡æŸ¥å‘¨æœŸ**: æ¯æœˆå¤ç›˜ä¸€æ¬¡,æ ¹æ®çœŸå®æ•°æ®è°ƒæ•´ç­–ç•¥

---

## é™„å½•: å…³é”®æ–‡ä»¶è·¯å¾„æ¸…å•

### è¿‡åº¦è®¾è®¡çš„æ–‡ä»¶

| æ–‡ä»¶ | è¡Œæ•° | é—®é¢˜ | å»ºè®® |
|-----|-----|------|------|
| `app/pages/HotelBackend/StorePolicyPage.tsx` | 954 | é…ç½®é¡¹è¿‡å¤š | åˆ é™¤æ”¯ä»˜/æŠ¼é‡‘/æ‹…ä¿å¡é…ç½® â†’ 350è¡Œ |
| `app/pages/HotelBackend/StoreBreakfastPage.tsx` | 285 | å„¿ç«¥å®šä»·è¿‡å¤æ‚ | ç®€åŒ–ä¸ºå›ºå®šè§„åˆ™ â†’ 120è¡Œ |
| `app/pages/HotelBackend/StoreExtraBedPage.tsx` | 219 | æˆ¿å‹çº§åˆ«é…ç½®å†—ä½™ | æ”¹ä¸ºå…¨å±€é…ç½® â†’ 80è¡Œ |
| `app/pages/PointsSystem/types/points.types.ts` | 251 | è¿‡æœŸè§„åˆ™è¿‡å¤æ‚ | ç®€åŒ–ä¸ºå›ºå®šè§„åˆ™ â†’ 80è¡Œ |
| `app/pages/MemberSystem/types/member.types.ts` | 144 | æƒç›Šç±»å‹è¿‡å¤š | åˆ é™¤5ç§æƒç›Š â†’ 30è¡Œ |

### å·²å®Œæˆçš„å…³é”®åŠŸèƒ½

| æ–‡ä»¶ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|-----|------|
| `app/pages/MemberInvitation/InvitationConfigPage.tsx` | ä¼šå‘˜é‚€è¯·é…ç½® | âœ… |
| `app/pages/FriendCard/FriendCardConfigPage.tsx` | äº²å‹å¡é…ç½® | âœ… |
| `app/pages/HotelOnboarding/OnboardingPage.tsx` | é…’åº—å¼€é€šæµç¨‹ | âœ… |
| `app/pages/HotelBackend/DashboardPage.tsx` | æ¬¢è¿æŒ‡å¼• | âœ… |
| `app/pages/HotelBackend/StoreBenefitsPage.tsx` | é—¨åº—ç¤¼èµ  | âœ… |
| `app/pages/HotelBackend/MemberInvitationPage.tsx` | é…’åº—ç«¯é‚€è¯· | âœ… |

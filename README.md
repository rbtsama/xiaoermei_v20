# 酒店行业 SAAS 系统学习平台 - 积分系统 Demo

## 项目概述

这是一个酒店预订平台的积分系统学习Demo，旨在帮助产品经理深入了解积分系统的设计与实现。

**参考竞品**: 美团酒店、携程、华住会、万豪Bonvoy、亚朵

## 核心功能模块

### 1. 积分规则配置中心
- 配置积分获取规则（1元=多少积分）
- 配置积分消耗规则（多少积分=1元，抵扣上限）
- 配置积分有效期（12个月过期）
- 配置发放时机（24小时延迟）

### 2. 用户积分账户管理
- 搜索用户（手机号/用户ID）
- 查看积分余额（可用/冻结/累计）
- 手动调整积分（必填原因）
- 查看积分明细流水

### 3. 积分明细查询
- 按用户查询明细
- 筛选类型（获得/消耗/过期/手动）
- 关联订单号跳转

## 特色功能

### 📚 右侧产品逻辑面板
每个页面右侧(40%)都有详细的产品&业务逻辑说明：

- **业务场景**: 在酒店行业如何使用？
- **解决的问题**: 用户痛点、平台价值、商家诉求
- **产品逻辑**: 为什么这样设计？核心计算公式
- **字段说明**: 类似微盟文档的字段解释表格
- **异常处理**: 边界情况处理逻辑
- **行业最佳实践**: 华住会、携程、万豪怎么做的？

## 快速开始

### 前置要求

- Node.js >= 18.0.0
- npm >= 9.0.0

### 安装依赖

```bash
# 1. 安装依赖
npm install

# 2. 安装 shadcn/ui 组件
npx shadcn@latest init
# 选择: Default, Slate, CSS variables

# 3. 安装必需的 UI 组件
npx shadcn@latest add button card table input label select
```

### 运行项目

```bash
# 开发模式运行
npm run dev

# 访问
# 首页: http://localhost:3000
# 积分规则配置: http://localhost:3000/points-system/rule-config
# 用户积分管理: http://localhost:3000/points-system/user-account
```

### 类型检查

```bash
npm run typecheck
```

## 文件结构

```
app/
├── pages/
│   └── PointsSystem/                # 积分系统模块
│       ├── types/
│       │   └── points.types.ts      # TypeScript 类型定义
│       ├── services/
│       │   ├── mocks/               # Mock 数据
│       │   │   ├── points.mock.ts   # 真实酒店场景数据
│       │   │   └── index.ts
│       │   └── points.service.ts    # 服务层（使用 Mock）
│       ├── components/
│       │   └── LogicPanel.tsx       # 右侧逻辑面板组件
│       ├── RuleConfigPage.tsx       # 规则配置页面
│       └── UserAccountPage.tsx      # 用户账户管理页面
├── routes/
│   ├── _index.tsx                   # 首页导航
│   └── points-system/
│       ├── rule-config.tsx          # 规则配置路由
│       └── user-account.tsx         # 用户账户路由
├── components/ui/                   # shadcn/ui 组件
└── styles/
    └── globals.css                  # 全局样式
```

## Mock 数据说明

所有数据都是模拟真实酒店行业场景：

### 用户画像
- **张经理**: 高价值用户（15680积分，47个订单）
- **李女士**: 普通用户（880积分，8个订单）
- **王先生**: 新用户（0积分，0个订单）

### 酒店数据
- **亚朵酒店·上海新天地店**: 中端商务，¥458/晚
- **汉庭酒店·杭州西湖断桥店**: 经济型，¥238/晚
- **山野·莫干山云栖民宿**: 精品民宿，¥680/晚

### 积分明细
- 订单完成发放积分
- 积分抵扣房费
- 订单退款扣回积分
- 积分过期自动扣除
- 客服手动补偿

## 学习重点

### 1. 业务场景理解
- 积分系统在酒店行业如何提升用户留存和复购？
- 撮合平台（vs 自有品牌）的积分设计有何不同？
- 积分成本如何从5%佣金中承担？

### 2. 产品逻辑设计
- 为什么要设置抵扣上限（30%）？
- 为什么延迟24小时发放积分？
- 积分过期如何促进复购？

### 3. 异常处理
- 订单退款如何处理积分？
- 积分过期当天用户下单如何处理？
- 用户刷积分如何防范？

### 4. 行业最佳实践
- **华住会**: 2年有效期，积分可换房
- **万豪**: 无限期但需活跃，积分价值高
- **携程**: 20-30%抵扣上限，积分+现金组合
- **美团**: 简单直接，100积分=1元

## 下一步扩展

当前Demo只包含积分系统，后续可扩展：

- [ ] 会员等级体系（金卡/钻石卡）
- [ ] 积分营销活动（双倍积分日）
- [ ] 优惠券系统
- [ ] 订单系统
- [ ] 商家入驻系统

## 技术栈

- **Remix** (^2.15.0) + Vite - 全栈React框架
- **TypeScript** (~5.6.0) - 类型安全
- **shadcn/ui** + Tailwind CSS - UI组件
- **Mock 数据** - 无需后端，纯前端学习

## 注意事项

- 这是一个**学习Demo**，不包含真实后端
- 所有数据都是Mock数据，不会持久化
- 重点在于理解产品逻辑和业务场景
- 右侧逻辑面板是学习的核心部分

## 常见问题

### Q: 如何添加新的用户数据？
A: 修改 `app/pages/PointsSystem/services/mocks/points.mock.ts` 中的 `mockUserAccounts` 数组

### Q: 如何修改积分规则？
A: 修改 `mockPointsRuleConfig` 对象，或者在页面上直接编辑（当前仅前端修改，刷新后恢复）

### Q: 能否连接真实后端？
A: 可以，修改 `points.service.ts` 将Mock数据替换为API调用即可

## 联系方式

如有问题或建议，欢迎反馈！
